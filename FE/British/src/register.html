<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join PRIMAL MMA | Fighter Registration</title>
    <link rel="stylesheet" href="../css/new_style.css">
    <link rel="stylesheet" href="../css/register_2styles.css">
</head>
<body>
    <header>
        <div class="logo">
            <img src="../img/primal.png" alt="PRIMAL MMA">
        </div>
        <nav>
            <ul id="nav-links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../index.html#events">Fight Cards</a></li>
                <li><a href="../index.html#fighters">Fighters</a></li>
                <li><a href="../index.html#rankings">Rankings</a></li>
                <li><a href="http://127.0.0.1:5500/FE/British/src/login.html">login</a></li>
                <li><a href="#contact">Contact</a></li>   
            </ul>
            <button id="nav-toggle">â˜°</button>
        </nav>
    </header>

    <main>
        <section class="banner">
            <h1>Join the PRIMAL MMA Roster</h1>
            <p>Take the first step towards becoming a fighting legend.</p>
        </section>

        <section class="registration-form">
            <h2>Fighter Registration</h2>
            <form action="/api/register/" method="post" enctype="multipart/form-data">
                
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" name="name"  >
                </div>
                <div class="form-group">
                    <label for="middle_name">Middle Name</label>
                    <input type="text" id="middle_name" name="middle_name"  >
                </div>
                <div class="form-group">
                    <label for="last_name">Last Name</label>
                    <input type="text" id="last_name" name="last_name"  >
                </div>

                <div class="form-group">
                    <label for="dob">Date of Birth</label>
                    <input type="date" id="date_of_birth" name="date_of_birth">

                </div>
                <div class="form-group">
                    <label for="age">Age:</label>
                    <input type="number" id="age" name="age" min="8.0" max="80" readonly>
                </div>

                <div class="form-group">
                    <label for="weight">Weight (in kg)</label>
                    <input type="number" id="weight" name="weight" step="0.1" min="0" max="100">
                </div>

                <div class="form-group">
                    <label for="sex">Sex</label>
                    <select id="sex" name="sex">
                        <option value="">Select</option>
                        <option value="M">Male</option>
                        <option value="F">Female</option>
                        
                    </select>
                    
                </div>
                
                <div class="form-group">
                    <label for="ageGroup">Age Group</label>
                    <select id="ageGroup" name="ageGroup" readonly >
                        <option value="U10">U10 (8 and 9 years old)</option>
                        <option value="U12">U12 (10 and 11 years old)</option>
                        <option value="U14">U14 (12 and 13 years old)</option>
                        <option value="U16">U16 (14 and 15 years old)</option>
                        <option value="U18">U18 (16 and 17 years old)</option>
                        <option value="Seniors">Seniors (18 years and above)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="weight_category">Weight Category</label>
                    <input type="text" id="weight_category" name="weight_category" readonly>
                </div>
 
                <div class="form-group"></div>
                    <label for="event-type">Main Event Type</label>
                    <select id="main_event" name="main_event">
                        <option value="">Select</option>
                        <option value="MMA">MMA</option>
                        <option value="Strike">Striking MMA</option> 
                        <option value="3">Boxing</option>
                        <option value="4">Kickboxing</option>
                        <option value="5">Muay Thai</option>
                        <option value="6">Grappling</option> 
                     </select>
                </div> 

                 <div class="form-group">
                    <label for="weight_code"> Competition Code</label>
                    <input type="text" id="weight_code" name="weight_code" readonly>
                </div> 

                <div class="form-group">
                    <label for="height">Height (in cm)</label>
                    <input type="number" id="height" name="height" min="70" max="250">
                </div>

                <div class="form-group">
                    <label for="address">Address</label>
                    <input type="text" id="address" name="address">
                </div>
                <div class="form-group">
                    <label for="state">State</label>
                    <select id="state" name="state">
                        <option value="">Select State</option>
                        <option value="Andhra Pradesh">Andhra Pradesh</option>
                        <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                        <option value="Assam">Assam</option>
                        <option value="Bihar">Bihar</option>
                        <option value="Chhattisgarh">Chhattisgarh</option>
                        <option value="Goa">Goa</option>
                        <option value="Gujarat">Gujarat</option>
                        <option value="Haryana">Haryana</option>
                        <option value="Himachal Pradesh">Himachal Pradesh</option>
                        <option value="Jharkhand">Jharkhand</option>
                        <option value="Karnataka">Karnataka</option>
                        <option value="Kerala">Kerala</option>
                        <option value="Madhya Pradesh">Madhya Pradesh</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Manipur">Manipur</option>
                        <option value="Meghalaya">Meghalaya</option>
                        <option value="Mizoram">Mizoram</option>
                        <option value="Nagaland">Nagaland</option>
                        <option value="Odisha">Odisha</option>
                        <option value="Punjab">Punjab</option>
                        <option value="Rajasthan">Rajasthan</option>
                        <option value="Sikkim">Sikkim</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                        <option value="Telangana">Telangana</option>
                        <option value="Tripura">Tripura</option>
                        <option value="Uttar Pradesh">Uttar Pradesh</option>
                        <option value="Uttarakhand">Uttarakhand</option>
                        <option value="West Bengal">West Bengal</option>
                        <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                        <option value="Chandigarh">Chandigarh</option>
                        <option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and Diu</option>
                        <option value="Lakshadweep">Lakshadweep</option>
                        <option value="Delhi">Delhi</option>
                        <option value="Puducherry">Puducherry</option>
                        <option value="Ladakh">Ladakh</option>
                        <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                    </select>
                </div>
                

                

                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email"  >
                </div>
                <div class="form-group">
                    <label for="number">Phone number</label>
                    <input type="number" id="number" name="number"  >
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password"  >
                </div>

                <div class="form-group">
                    <label for="password2">Confirm Password</label>
                    <input type="password" id="password2" name="password2"  >
                </div>

                
                <div class="form-group">
                    <label for="coach-name">Coach name</label>
                    <input type="text" id="coach_name" name="coach_name">
                </div>
                <div class="form-group">
                    <label for="club-name">Club Name</label>
                    <input type="text" id="club_name" name="club_name">

                </div>

                <div class="form-group">
                    <label for="photo">Upload Passport Size Photo</label>
                    <input type="file" id="photo" name="photo" accept="image/*"  >
                </div>

                <div class="form-group">
                    <label for="id-proof">Upload Government Issued ID</label>
                    <input type="file" id="id_card" name="id_card" accept="image/*,.pdf">

                </div>
                <!-- <div class="form-group",style="display: none;">
                    <label for="is_fighter_activef">is fighter active</label>
                    <input  id="is_fighter_active" name="is_fighter_active" >

                </div> -->

                <button type="submit" class="submit-btn">Register as a Fighter</button>
            </form>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 PRIMAL MMA. All Rights Reserved.</p>
        <div class="socials">
            <a href="https://facebook.com"><img src="../img/facebook.png" alt="Facebook"></a>
            <a href="https://instagram.com"><img src="../img/instagram.png" alt="Instagram"></a>
            <a href="https://youtube.com"><img src="../img/youtube.png" alt="YouTube"></a>
        </div>
    </footer>
    <script>
        // Include the getCategoryCode function here
        function getCategoryCode(weight, gender, ageGroup, main_event) {
        const categories = {
            m: {
            U10: [27.2,31.7, 36.3, 36.4],
            U12: [31.7, 36.3, 40.8, 45.4, 45.5],
            U14: [36.3, 40.8, 45.4, 49.9, 54.4, 58.7, 63.5, 63.6],
            U16: [49.9, 54.4, 58.7, 63.5, 70.3, 77.1, 77.2],
            U18: [52.2, 57.7, 63.5, 70.3, 77.1, 83.9, 93.0, 93.1],
            Seniors: [52.2, 56.7, 61.2, 65.8, 70.3, 77.1, 83.9, 93.0, 120.0, 120.1]
            },
            f: {
            U10: [27.2, 31.7, 36.3, 36.4],
            U12: [31.7, 36.3, 40.8, 45.4, 45.5],
            U14: [36.3, 40.8, 45.4, 49.9, 54.4, 54.5],
            U16: [40.8, 45.4, 49.9, 54.4, 58.7, 63.5, 63.6],
            U18: [45.4, 49.9, 54.4, 58.7, 63.5, 63.6],
            Seniors: [47.6, 52.2, 56.7, 61.2, 65.8, 72.6, 72.7]
            }
        };

        const categoryWeights = categories[gender.toLowerCase()][ageGroup];
        let categoryIndex = categoryWeights.findIndex(limit => weight <= parseFloat(limit));
        if (categoryIndex === -1) categoryIndex = categoryWeights.length - 1;

        const prefix = gender === 'male' ? 'M' : 'F';
        console.log(categoryWeights[categoryIndex])
        const weightValue = categoryWeights[categoryIndex]

        return `${prefix}_${ageGroup}_${weightValue}_${main_event}`;
        }
        
        document.getElementById('weight').addEventListener('input', updateCategory);
        document.getElementById('sex').addEventListener('change', updateCategory);
        document.getElementById('ageGroup').addEventListener('change', updateCategory);
        document.getElementById('main_event').addEventListener('change', updateCategory);
        
        function updateCategory() {
            const weight = parseFloat(document.getElementById('weight').value);
            const gender = document.getElementById('sex').value;
            const ageGroup = document.getElementById('ageGroup').value;
            const main_event = document.getElementById('main_event').value;
            if (!isNaN(weight) && gender && ageGroup && main_event) {
                const category = getCategoryCode(weight, gender, ageGroup, main_event);
                document.getElementById('weight_code').value = category;
            } else {
                document.getElementById('weight_code').value = '';
            }
        }
        </script>
    <script src="../js/register.js"></script>
</body>
</html>